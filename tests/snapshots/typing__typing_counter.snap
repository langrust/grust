---
source: tests/typing.rs
expression: file
---
typedefs: []
functions: []
nodes:
  - id: counter
    is_component: false
    inputs:
      - - res
        - Boolean
      - - tick
        - Boolean
    equations:
      - - o
        - scope: Output
          id: o
          signal_type: Integer
          expression:
            FunctionApplication:
              function_expression:
                Identifier:
                  id: if_then_else
                  typing:
                    Abstract:
                      - - Boolean
                        - Integer
                        - Integer
                      - Integer
                  location: ~
              inputs:
                - SignalCall:
                    id: res
                    typing: Boolean
                    location: ~
                - Constant:
                    constant:
                      Integer: 0
                    typing: Integer
                    location: ~
                - FunctionApplication:
                    function_expression:
                      Identifier:
                        id: " + "
                        typing:
                          Abstract:
                            - - Integer
                              - Integer
                            - Integer
                        location: ~
                    inputs:
                      - FunctionApplication:
                          function_expression:
                            Identifier:
                              id: (_)
                              typing:
                                Abstract:
                                  - - Integer
                                  - Integer
                              location: ~
                          inputs:
                            - FollowedBy:
                                constant:
                                  Integer: 0
                                expression:
                                  SignalCall:
                                    id: o
                                    typing: Integer
                                    location: ~
                                typing: Integer
                                location: ~
                          typing: Integer
                          location: ~
                      - SignalCall:
                          id: inc
                          typing: Integer
                          location: ~
                    typing: Integer
                    location: ~
              typing: Integer
              location: ~
          location: ~
      - - inc
        - scope: Local
          id: inc
          signal_type: Integer
          expression:
            FunctionApplication:
              function_expression:
                Identifier:
                  id: if_then_else
                  typing:
                    Abstract:
                      - - Boolean
                        - Integer
                        - Integer
                      - Integer
                  location: ~
              inputs:
                - SignalCall:
                    id: tick
                    typing: Boolean
                    location: ~
                - Constant:
                    constant:
                      Integer: 1
                    typing: Integer
                    location: ~
                - Constant:
                    constant:
                      Integer: 0
                    typing: Integer
                    location: ~
              typing: Integer
              location: ~
          location: ~
    contract:
      requires: []
      ensures: []
      invariant: []
      assert: []
    location: ~
component:
  id: main
  is_component: true
  inputs: []
  equations:
    - - y
      - scope: Output
        id: y
        signal_type: Integer
        expression:
          NodeApplication:
            node: counter
            inputs:
              - FollowedBy:
                  constant:
                    Boolean: false
                  expression:
                    FunctionApplication:
                      function_expression:
                        Identifier:
                          id: (_)
                          typing:
                            Abstract:
                              - - Boolean
                              - Boolean
                          location: ~
                      inputs:
                        - FunctionApplication:
                            function_expression:
                              Identifier:
                                id: " > "
                                typing:
                                  Abstract:
                                    - - Integer
                                      - Integer
                                    - Boolean
                                location: ~
                            inputs:
                              - SignalCall:
                                  id: y
                                  typing: Integer
                                  location: ~
                              - Constant:
                                  constant:
                                    Integer: 35
                                  typing: Integer
                                  location: ~
                            typing: Boolean
                            location: ~
                      typing: Boolean
                      location: ~
                  typing: Boolean
                  location: ~
              - SignalCall:
                  id: half
                  typing: Boolean
                  location: ~
            signal: o
            typing: Integer
            location: ~
        location: ~
    - - half
      - scope: Local
        id: half
        signal_type: Boolean
        expression:
          FollowedBy:
            constant:
              Boolean: true
            expression:
              FunctionApplication:
                function_expression:
                  Identifier:
                    id: "!"
                    typing:
                      Abstract:
                        - - Boolean
                        - Boolean
                    location: ~
                inputs:
                  - SignalCall:
                      id: half
                      typing: Boolean
                      location: ~
                typing: Boolean
                location: ~
            typing: Boolean
            location: ~
        location: ~
  contract:
    requires: []
    ensures: []
    invariant: []
    assert: []
  location: ~
location: ~

