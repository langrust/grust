---
source: tests/typing.rs
expression: file
---
typedefs:
  - Enumeration:
      id: Button
      elements:
        - Released
        - Pressed
      location:
        file_id: 0
        range:
          start: 0
          end: 42
  - Enumeration:
      id: ResetState
      elements:
        - InProgress
        - Confirmed
      location:
        file_id: 0
        range:
          start: 44
          end: 94
functions:
  - id: reset_state_management
    inputs:
      - - button_state
        - Enumeration: Button
      - - counter
        - Integer
      - - reset_limit_1
        - Integer
    statements:
      - id: result
        element_type:
          Enumeration: ResetState
        expression:
          Match:
            expression:
              Call:
                id: button_state
                typing:
                  Enumeration: Button
                location:
                  file_id: 0
                  range:
                    start: 236
                    end: 248
            arms:
              - - Constant:
                    constant:
                      Enumeration:
                        - Button
                        - Released
                    location:
                      file_id: 0
                      range:
                        start: 260
                        end: 275
                - ~
                - Constant:
                    constant:
                      Enumeration:
                        - ResetState
                        - Confirmed
                    typing:
                      Enumeration: ResetState
                    location:
                      file_id: 0
                      range:
                        start: 279
                        end: 299
              - - Constant:
                    constant:
                      Enumeration:
                        - Button
                        - Pressed
                    location:
                      file_id: 0
                      range:
                        start: 309
                        end: 323
                - Application:
                    function_expression:
                      Call:
                        id: " >= "
                        typing:
                          Abstract:
                            - - Integer
                              - Integer
                            - Boolean
                        location:
                          file_id: 0
                          range:
                            start: 335
                            end: 337
                    inputs:
                      - Call:
                          id: counter
                          typing: Integer
                          location:
                            file_id: 0
                            range:
                              start: 327
                              end: 334
                      - Call:
                          id: reset_limit_1
                          typing: Integer
                          location:
                            file_id: 0
                            range:
                              start: 338
                              end: 351
                    typing: Boolean
                    location:
                      file_id: 0
                      range:
                        start: 327
                        end: 351
                - Constant:
                    constant:
                      Enumeration:
                        - ResetState
                        - InProgress
                    typing:
                      Enumeration: ResetState
                    location:
                      file_id: 0
                      range:
                        start: 355
                        end: 376
              - - Default:
                    location:
                      file_id: 0
                      range:
                        start: 386
                        end: 387
                - ~
                - Constant:
                    constant:
                      Enumeration:
                        - ResetState
                        - Confirmed
                    typing:
                      Enumeration: ResetState
                    location:
                      file_id: 0
                      range:
                        start: 391
                        end: 411
            typing:
              Enumeration: ResetState
            location:
              file_id: 0
              range:
                start: 229
                end: 418
        location:
          file_id: 0
          range:
            start: 204
            end: 419
    returned:
      - Enumeration: ResetState
      - Call:
          id: result
          typing:
            Enumeration: ResetState
          location:
            file_id: 0
            range:
              start: 431
              end: 437
    location:
      file_id: 0
      range:
        start: 96
        end: 440
nodes:
  - id: counter
    is_component: false
    inputs:
      - - res
        - Boolean
      - - inc
        - Integer
    equations:
      - - o
        - scope: Output
          id: o
          signal_type: Integer
          expression:
            MapApplication:
              function_expression:
                Call:
                  id: if_then_else
                  typing:
                    Abstract:
                      - - Boolean
                        - Integer
                        - Integer
                      - Integer
                  location:
                    file_id: 0
                    range:
                      start: 495
                      end: 529
              inputs:
                - SignalCall:
                    id: res
                    typing: Boolean
                    location:
                      file_id: 0
                      range:
                        start: 498
                        end: 501
                - Constant:
                    constant:
                      Integer: 0
                    typing: Integer
                    location:
                      file_id: 0
                      range:
                        start: 507
                        end: 508
                - MapApplication:
                    function_expression:
                      Call:
                        id: " + "
                        typing:
                          Abstract:
                            - - Integer
                              - Integer
                            - Integer
                        location:
                          file_id: 0
                          range:
                            start: 524
                            end: 525
                    inputs:
                      - MapApplication:
                          function_expression:
                            Call:
                              id: (_)
                              typing:
                                Abstract:
                                  - - Integer
                                  - Integer
                              location:
                                file_id: 0
                                range:
                                  start: 514
                                  end: 523
                          inputs:
                            - FollowedBy:
                                constant:
                                  Integer: 0
                                expression:
                                  SignalCall:
                                    id: o
                                    typing: Integer
                                    location:
                                      file_id: 0
                                      range:
                                        start: 521
                                        end: 522
                                typing: Integer
                                location:
                                  file_id: 0
                                  range:
                                    start: 515
                                    end: 522
                          typing: Integer
                          location:
                            file_id: 0
                            range:
                              start: 514
                              end: 523
                      - SignalCall:
                          id: inc
                          typing: Integer
                          location:
                            file_id: 0
                            range:
                              start: 526
                              end: 529
                    typing: Integer
                    location:
                      file_id: 0
                      range:
                        start: 514
                        end: 529
              typing: Integer
              location:
                file_id: 0
                range:
                  start: 495
                  end: 529
          location:
            file_id: 0
            range:
              start: 482
              end: 530
    location:
      file_id: 0
      range:
        start: 442
        end: 532
  - id: reset_button
    is_component: false
    inputs:
      - - button_state
        - Enumeration: Button
      - - period
        - Integer
      - - reset_limit_1
        - Integer
      - - reset_limit_2
        - Integer
    equations:
      - - user_reset_request_state
        - scope: Output
          id: user_reset_request_state
          signal_type:
            Enumeration: ResetState
          expression:
            MapApplication:
              function_expression:
                Call:
                  id: reset_state_management
                  typing:
                    Abstract:
                      - - Enumeration: Button
                        - Integer
                        - Integer
                      - Enumeration: ResetState
                  location:
                    file_id: 0
                    range:
                      start: 720
                      end: 742
              inputs:
                - SignalCall:
                    id: button_state
                    typing:
                      Enumeration: Button
                    location:
                      file_id: 0
                      range:
                        start: 678
                        end: 690
                - SignalCall:
                    id: counter
                    typing: Integer
                    location:
                      file_id: 0
                      range:
                        start: 692
                        end: 699
                - SignalCall:
                    id: reset_limit_1
                    typing: Integer
                    location:
                      file_id: 0
                      range:
                        start: 701
                        end: 714
              typing:
                Enumeration: ResetState
              location:
                file_id: 0
                range:
                  start: 677
                  end: 743
          location:
            file_id: 0
            range:
              start: 633
              end: 744
      - - user_reset_request
        - scope: Output
          id: user_reset_request
          signal_type: Boolean
          expression:
            Match:
              expression:
                SignalCall:
                  id: button_state
                  typing:
                    Enumeration: Button
                  location:
                    file_id: 0
                    range:
                      start: 787
                      end: 799
              arms:
                - - Constant:
                      constant:
                        Enumeration:
                          - Button
                          - Released
                      location:
                        file_id: 0
                        range:
                          start: 811
                          end: 826
                  - ~
                  - FollowedBy:
                      constant:
                        Boolean: false
                      expression:
                        SignalCall:
                          id: user_reset_request
                          typing: Boolean
                          location:
                            file_id: 0
                            range:
                              start: 840
                              end: 858
                      typing: Boolean
                      location:
                        file_id: 0
                        range:
                          start: 830
                          end: 858
                - - Constant:
                      constant:
                        Enumeration:
                          - Button
                          - Pressed
                      location:
                        file_id: 0
                        range:
                          start: 868
                          end: 882
                  - ~
                  - MapApplication:
                      function_expression:
                        Call:
                          id: " >= "
                          typing:
                            Abstract:
                              - - Integer
                                - Integer
                              - Boolean
                          location:
                            file_id: 0
                            range:
                              start: 894
                              end: 896
                      inputs:
                        - SignalCall:
                            id: counter
                            typing: Integer
                            location:
                              file_id: 0
                              range:
                                start: 886
                                end: 893
                        - MapApplication:
                            function_expression:
                              Call:
                                id: " + "
                                typing:
                                  Abstract:
                                    - - Integer
                                      - Integer
                                    - Integer
                                location:
                                  file_id: 0
                                  range:
                                    start: 911
                                    end: 912
                            inputs:
                              - SignalCall:
                                  id: reset_limit_1
                                  typing: Integer
                                  location:
                                    file_id: 0
                                    range:
                                      start: 897
                                      end: 910
                              - SignalCall:
                                  id: reset_limit_2
                                  typing: Integer
                                  location:
                                    file_id: 0
                                    range:
                                      start: 913
                                      end: 926
                            typing: Integer
                            location:
                              file_id: 0
                              range:
                                start: 897
                                end: 926
                      typing: Boolean
                      location:
                        file_id: 0
                        range:
                          start: 886
                          end: 926
              typing: Boolean
              location:
                file_id: 0
                range:
                  start: 780
                  end: 933
          location:
            file_id: 0
            range:
              start: 749
              end: 934
      - - counter
        - scope: Local
          id: counter
          signal_type: Integer
          expression:
            NodeApplication:
              node: counter
              inputs:
                - SignalCall:
                    id: res
                    typing: Boolean
                    location:
                      file_id: 0
                      range:
                        start: 962
                        end: 965
                - SignalCall:
                    id: period
                    typing: Integer
                    location:
                      file_id: 0
                      range:
                        start: 967
                        end: 973
              signal: o
              typing: Integer
              location:
                file_id: 0
                range:
                  start: 954
                  end: 976
          location:
            file_id: 0
            range:
              start: 939
              end: 977
      - - res
        - scope: Local
          id: res
          signal_type: Boolean
          expression:
            MapApplication:
              function_expression:
                Call:
                  id: " && "
                  typing:
                    Abstract:
                      - - Boolean
                        - Boolean
                      - Boolean
                  location:
                    file_id: 0
                    range:
                      start: 1027
                      end: 1029
              inputs:
                - MapApplication:
                    function_expression:
                      Call:
                        id: (_)
                        typing:
                          Abstract:
                            - - Boolean
                            - Boolean
                        location:
                          file_id: 0
                          range:
                            start: 994
                            end: 1026
                    inputs:
                      - MapApplication:
                          function_expression:
                            Call:
                              id: " == "
                              typing:
                                Abstract:
                                  - - Enumeration: Button
                                    - Enumeration: Button
                                  - Boolean
                              location:
                                file_id: 0
                                range:
                                  start: 1008
                                  end: 1010
                          inputs:
                            - SignalCall:
                                id: button_state
                                typing:
                                  Enumeration: Button
                                location:
                                  file_id: 0
                                  range:
                                    start: 995
                                    end: 1007
                            - Constant:
                                constant:
                                  Enumeration:
                                    - Button
                                    - Pressed
                                typing:
                                  Enumeration: Button
                                location:
                                  file_id: 0
                                  range:
                                    start: 1011
                                    end: 1025
                          typing: Boolean
                          location:
                            file_id: 0
                            range:
                              start: 995
                              end: 1025
                    typing: Boolean
                    location:
                      file_id: 0
                      range:
                        start: 994
                        end: 1026
                - MapApplication:
                    function_expression:
                      Call:
                        id: (_)
                        typing:
                          Abstract:
                            - - Boolean
                            - Boolean
                        location:
                          file_id: 0
                          range:
                            start: 1030
                            end: 1072
                    inputs:
                      - FollowedBy:
                          constant:
                            Boolean: true
                          expression:
                            MapApplication:
                              function_expression:
                                Call:
                                  id: " == "
                                  typing:
                                    Abstract:
                                      - - Enumeration: Button
                                        - Enumeration: Button
                                      - Boolean
                                  location:
                                    file_id: 0
                                    range:
                                      start: 1053
                                      end: 1055
                              inputs:
                                - SignalCall:
                                    id: button_state
                                    typing:
                                      Enumeration: Button
                                    location:
                                      file_id: 0
                                      range:
                                        start: 1040
                                        end: 1052
                                - Constant:
                                    constant:
                                      Enumeration:
                                        - Button
                                        - Released
                                    typing:
                                      Enumeration: Button
                                    location:
                                      file_id: 0
                                      range:
                                        start: 1056
                                        end: 1071
                              typing: Boolean
                              location:
                                file_id: 0
                                range:
                                  start: 1040
                                  end: 1071
                          typing: Boolean
                          location:
                            file_id: 0
                            range:
                              start: 1031
                              end: 1071
                    typing: Boolean
                    location:
                      file_id: 0
                      range:
                        start: 1030
                        end: 1072
              typing: Boolean
              location:
                file_id: 0
                range:
                  start: 994
                  end: 1072
          location:
            file_id: 0
            range:
              start: 982
              end: 1073
    location:
      file_id: 0
      range:
        start: 534
        end: 1075
component: ~
location:
  file_id: 0
  range:
    start: 0
    end: 1075

