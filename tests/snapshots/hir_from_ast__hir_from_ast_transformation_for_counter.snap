---
source: tests/hir_from_ast.rs
expression: file
---
typedefs: []
functions: []
nodes:
  - id: counter
    is_component: false
    inputs:
      - - res
        - Boolean
      - - tick
        - Boolean
    unscheduled_equations:
      inc:
        scope: Local
        id: inc
        signal_type: Integer
        expression:
          FunctionApplication:
            function_expression:
              Call:
                id: if_then_else
                typing:
                  Abstract:
                    - - Boolean
                      - Integer
                      - Integer
                    - Integer
                location: ~
            inputs:
              - SignalCall:
                  signal:
                    id: tick
                    scope: Input
                  typing: Boolean
                  location: ~
                  dependencies: ~
              - Constant:
                  constant:
                    Integer: 1
                  typing: Integer
                  location: ~
                  dependencies: ~
              - Constant:
                  constant:
                    Integer: 0
                  typing: Integer
                  location: ~
                  dependencies: ~
            typing: Integer
            location: ~
            dependencies: ~
        location: ~
      o:
        scope: Output
        id: o
        signal_type: Integer
        expression:
          FunctionApplication:
            function_expression:
              Call:
                id: if_then_else
                typing:
                  Abstract:
                    - - Boolean
                      - Integer
                      - Integer
                    - Integer
                location: ~
            inputs:
              - SignalCall:
                  signal:
                    id: res
                    scope: Input
                  typing: Boolean
                  location: ~
                  dependencies: ~
              - Constant:
                  constant:
                    Integer: 0
                  typing: Integer
                  location: ~
                  dependencies: ~
              - FunctionApplication:
                  function_expression:
                    Call:
                      id: " + "
                      typing:
                        Abstract:
                          - - Integer
                            - Integer
                          - Integer
                      location: ~
                  inputs:
                    - FunctionApplication:
                        function_expression:
                          Call:
                            id: (_)
                            typing:
                              Abstract:
                                - - Integer
                                - Integer
                            location: ~
                        inputs:
                          - FollowedBy:
                              constant:
                                Integer: 0
                              expression:
                                SignalCall:
                                  signal:
                                    id: o
                                    scope: Output
                                  typing: Integer
                                  location: ~
                                  dependencies: ~
                              typing: Integer
                              location: ~
                              dependencies: ~
                        typing: Integer
                        location: ~
                        dependencies: ~
                    - SignalCall:
                        signal:
                          id: inc
                          scope: Local
                        typing: Integer
                        location: ~
                        dependencies: ~
                  typing: Integer
                  location: ~
                  dependencies: ~
            typing: Integer
            location: ~
            dependencies: ~
        location: ~
    unitary_nodes: {}
    contracts:
      requires: []
      ensures: []
      invariant: []
      assert: []
    location: ~
    graph: ~
component:
  id: main
  is_component: true
  inputs: []
  unscheduled_equations:
    half:
      scope: Local
      id: half
      signal_type: Boolean
      expression:
        FollowedBy:
          constant:
            Boolean: true
          expression:
            FunctionApplication:
              function_expression:
                Call:
                  id: "!"
                  typing:
                    Abstract:
                      - - Boolean
                      - Boolean
                  location: ~
              inputs:
                - SignalCall:
                    signal:
                      id: half
                      scope: Local
                    typing: Boolean
                    location: ~
                    dependencies: ~
              typing: Boolean
              location: ~
              dependencies: ~
          typing: Boolean
          location: ~
          dependencies: ~
      location: ~
    y:
      scope: Output
      id: y
      signal_type: Integer
      expression:
        NodeApplication:
          node: counter
          inputs:
            - FollowedBy:
                constant:
                  Boolean: false
                expression:
                  FunctionApplication:
                    function_expression:
                      Call:
                        id: (_)
                        typing:
                          Abstract:
                            - - Boolean
                            - Boolean
                        location: ~
                    inputs:
                      - FunctionApplication:
                          function_expression:
                            Call:
                              id: " > "
                              typing:
                                Abstract:
                                  - - Integer
                                    - Integer
                                  - Boolean
                              location: ~
                          inputs:
                            - SignalCall:
                                signal:
                                  id: y
                                  scope: Output
                                typing: Integer
                                location: ~
                                dependencies: ~
                            - Constant:
                                constant:
                                  Integer: 35
                                typing: Integer
                                location: ~
                                dependencies: ~
                          typing: Boolean
                          location: ~
                          dependencies: ~
                    typing: Boolean
                    location: ~
                    dependencies: ~
                typing: Boolean
                location: ~
                dependencies: ~
            - SignalCall:
                signal:
                  id: half
                  scope: Local
                typing: Boolean
                location: ~
                dependencies: ~
          signal: o
          typing: Integer
          location: ~
          dependencies: ~
      location: ~
  unitary_nodes: {}
  contracts:
    requires: []
    ensures: []
    invariant: []
    assert: []
  location: ~
  graph: ~
location: ~

